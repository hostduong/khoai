{% set title = "ÄÄƒng kÃ½ tÃ i khoáº£n | Gem.id.vn - Há»‡ thá»‘ng Email Tá»± Äá»™ng" %}
{% set description = "Táº¡o tÃ i khoáº£n má»›i trÃªn Gem.id.vn â€“ há»‡ thá»‘ng email tá»± Ä‘á»™ng, báº£o máº­t cao, chuyÃªn cho MMO vÃ  doanh nghiá»‡p." %}
{% set keywords = "Gem.id.vn, Ä‘Äƒng kÃ½ email, há»‡ thá»‘ng email tá»± Ä‘á»™ng, MMO" %}
{% set page_url = "/register" %}
{% set og_image = "/img/logo.png" %}
{% include "head-meta.njk" %}
  <body class="bg-light">
{% include "head.njk" %}

<section class="section-py bg-body landing-reviews pb-0">
  <div class="container d-flex justify-content-center align-items-center p-3">
    <div class="row">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-body">
            <div class="mx-auto pt-4" style="max-width: 480px;">
              <h4 class="mb-1 text-center">ChÃ o má»«ng Ä‘áº¿n vá»›i GemID! ğŸ‘‹</h4>
              <p class="mb-6 text-center">Vui lÃ²ng Ä‘Äƒng kÃ½ Ä‘á»ƒ tiáº¿p tá»¥c.</p>

              <form id="formAuthentication" class="mb-6" method="POST" autocomplete="off">
                <!-- TÃªn Ä‘Äƒng nháº­p -->
                <div class="mb-6">
                  <label for="username" class="form-label">TÃªn Ä‘Äƒng nháº­p</label>
                  <input type="text" class="form-control"
                         id="username" name="username"
                         minlength="6" maxlength="30"
                         pattern="^[a-z0-9_.]{6,30}$"
                         placeholder="TÃªn Ä‘Äƒng nháº­p (a-z, 0-9, _ .)" required>
                  <div class="invalid-feedback" id="error-username"></div>
                </div>
                <!-- Há» vÃ  tÃªn -->
                <div class="mb-6">
                  <label for="fullname" class="form-label">Há» vÃ  tÃªn</label>
                  <input type="text" class="form-control"
                         id="fullname" name="fullname"
                         minlength="6" maxlength="50"
                         placeholder="Há» vÃ  tÃªn Ä‘áº§y Ä‘á»§" required>
                  <div class="invalid-feedback" id="error-fullname"></div>
                </div>
                <!-- Email -->
                <div class="mb-6">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" class="form-control"
                         id="email" name="email"
                         maxlength="100"
                         placeholder="Nháº­p email" required>
                  <div class="invalid-feedback" id="error-email"></div>
                </div>
                <!-- Máº­t kháº©u -->
                <div class="mb-6 form-password-toggle">
                  <label for="password" class="form-label">Máº­t kháº©u</label>
                  <div class="input-group input-group-merge">
                    <input type="password" class="form-control"
                           id="password" name="password"
                           minlength="8" maxlength="30"
                           pattern="^[a-zA-Z0-9~!@#$%^&*()_+]{8,30}$"
                           placeholder="Máº­t kháº©u máº¡nh (8-30 kÃ½ tá»±)" required>
                    <span class="input-group-text cursor-pointer" onclick="togglePassword('password')">
                      <i class="ti ti-eye-off"></i>
                    </span>
                  </div>
                  <div class="invalid-feedback" id="error-password"></div>
                </div>
                <!-- Nháº­p láº¡i máº­t kháº©u -->
                <div class="mb-6 form-password-toggle">
                  <label for="confirm_password" class="form-label">Nháº­p láº¡i máº­t kháº©u</label>
                  <div class="input-group input-group-merge">
                    <input type="password" class="form-control"
                           id="confirm_password" name="confirm_password"
                           minlength="8" maxlength="30"
                           placeholder="Nháº­p láº¡i máº­t kháº©u" required>
                    <span class="input-group-text cursor-pointer" onclick="togglePassword('confirm_password')">
                      <i class="ti ti-eye-off"></i>
                    </span>
                  </div>
                  <div class="invalid-feedback" id="error-confirm-password"></div>
                </div>
                <!-- Sá»‘ Ä‘iá»‡n thoáº¡i -->
                <div class="mb-6">
                  <label for="phone" class="form-label">Sá»‘ Ä‘iá»‡n thoáº¡i</label>
                  <input type="tel" class="form-control"
                         id="phone" name="phone"
                         pattern="^[0-9]{10,15}$"
                         placeholder="Sá»‘ Ä‘iá»‡n thoáº¡i 10-15 sá»‘" required>
                  <div class="invalid-feedback" id="error-phone"></div>
                </div>
                <!-- PIN (8 sá»‘) -->
                <div class="mb-6">
                  <label for="pin" class="form-label">PIN (8 sá»‘)</label>
                  <input type="password" class="form-control"
                         id="pin" name="pin"
                         pattern="^[0-9]{8}$"
                         minlength="8" maxlength="8"
                         placeholder="Nháº­p PIN 8 sá»‘" inputmode="numeric" required>
                  <div class="invalid-feedback" id="error-pin"></div>
                </div>
                <!-- Äiá»u khoáº£n -->
                <div class="mb-6 mt-8">
                  <div class="form-check mb-8 ms-2">
                    <input class="form-check-input" type="checkbox"
                           id="terms-conditions" name="terms" required>
                    <label class="form-check-label" for="terms-conditions">
                      TÃ´i Ä‘á»“ng Ã½ vá»›i <a href="/terms" target="_blank">Äiá»u khoáº£n vÃ  Ä‘iá»u kiá»‡n</a>
                    </label>
                    <div class="invalid-feedback" id="error-terms"></div>
                  </div>
                </div>
                <!-- Captcha Cloudflare Turnstile -->
                <div class="mb-6">
                  <div class="input-group mb-4 input-section w-100">
                    <div class="cf-turnstile w-100"
                         data-sitekey="0x4AAAAAABiYUvkjZoEsX0vR"
                         data-size="flexible" data-theme="light"
                         data-callback="onCaptchaSuccess"
                         data-expired-callback="onCaptchaExpired"
                         data-error-callback="onCaptchaExpired"></div>
                  </div>
                  <div class="invalid-feedback" id="error-captcha"></div>
                </div>
                <!-- NÃºt Ä‘Äƒng kÃ½ -->
                <button class="btn btn-primary d-grid w-100" id="register-btn" type="submit">
                  ÄÄƒng kÃ½
                </button>
                <div id="form-message" class="text-center mt-2"></div>
              </form>
              <p class="text-center mt-2">
                <span>Báº¡n Ä‘Ã£ cÃ³ tÃ i khoáº£n?</span>
                <a href="/login"><span>ÄÄƒng nháº­p ngay</span></a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
function togglePassword(id) {
  var input = document.getElementById(id);
  input.type = input.type === "password" ? "text" : "password";
}
</script>
<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
<script>
let captchaOk = false;
function onCaptchaSuccess(token) {
  captchaOk = true;
  updateRegisterBtn();
}
function onCaptchaExpired() {
  captchaOk = false;
  updateRegisterBtn();
}
function updateRegisterBtn() {
  const form = document.getElementById('formAuthentication');
  let valid = true;
  // Validate tá»«ng trÆ°á»ng â€“ cÃ³ thá»ƒ viáº¿t chi tiáº¿t hÆ¡n náº¿u muá»‘n UX máº¡nh hÆ¡n
  if (!form.username.value.match(/^[a-z0-9_.]{6,30}$/)) valid = false;
  if (form.fullname.value.length < 6 || form.fullname.value.length > 50) valid = false;
  if (!form.email.value.match(/^[^@]+@[^@]+\.[^@]+$/)) valid = false;
  if (!form.password.value.match(/^[a-zA-Z0-9~!@#$%^&*()_+]{8,30}$/)) valid = false;
  if (form.password.value !== form.confirm_password.value) valid = false;
  if (!form.phone.value.match(/^[0-9]{10,15}$/)) valid = false;
  if (!form.pin.value.match(/^[0-9]{8}$/)) valid = false;
  if (!form["terms-conditions"].checked) valid = false;
  if (!captchaOk) valid = false;
  document.getElementById('register-btn').disabled = !valid;
}
document.getElementById('formAuthentication').addEventListener('input', updateRegisterBtn);
// Captcha callback Ä‘Ã£ Ä‘Ãºng rá»“i!
// Äá»«ng quÃªn Ä‘á»ƒ: data-callback="onCaptchaSuccess" data-expired-callback="onCaptchaExpired" trong div cf-turnstile
</script>


{% include "footer.njk" %}
  </body>
{% include "footer-meta.njk" %}
